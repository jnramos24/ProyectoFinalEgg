<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>Amrap</title>
    <link rel="stylesheet" href="CSS/Style_ejercicios.css">
    <link rel="stylesheet" href="CSS/fonts.css">

</head>

<body>
    <h1 class="titulo">Buscar Ejercicio</h1>


    <!-- menu desplegable comienzo  -->
    <header th:replace="/inicio.html::header"></header>
    <!-- menu desplegable fin  -->


    <section Class=principal>

        <div class="formulario">

            <div>
                <a id="a" th:href="@{nuevo-ejercicio (idRutina=${idRutina})}"><button class="boton tres"><span>Crear Ejercicio</span></button></a>
                <!--  en esta url, le sumamos al metodo nuevo-ejercicio, el id de rutina, que lo recibimos en la vista por medio de un model, que a vez, venia como un requestparam -->

                <a th:href="@{/listar-ejercicios (idRutina=${idRutina})}"><button class="boton cuatro"><span>Listar</span></button></a><br><br>
                  <!--  en esta url, le sumamos al metodo nuevo-ejercicio, el id de rutina, que lo recibimos en la vista por medio de un model, que a vez, venia como un requestparam -->
                  
            </div>

            <form  action="/buscar-ejercicio" method="GET">

                <p th:if="${error != null}" th:text=${error} class=error></p>
                <p th:if="${exito != null}" th:text=${exito} class=exito></p>


                <input type="hidden" name="idRutina" th:value="${idRutina}">

                <label>Nombre:</label><br>
                <select class="alta" name="idNombre">
                    <option></option>
                    <option th:each="nombresEjercicios : ${nombresEjercicios}" th:value="${nombresEjercicios.id}" th:text="${nombresEjercicios.nombre}">
                    </option>
                </select><br><br>


                <label>Categoría:</label><br>
                <select class="alta" name="idCategoria">
                    <option></option>
                    <option th:each="categorias : ${categorias}" th:value="${categorias.id}" th:text="${categorias.nombre}"></option>
                </select><br><br>

                <button type="submit" class="boton tres"><span>Buscar</span></button>


            </form>

        </div>

        <!--   ************** formulario resultados -->

        <section class="formulario2" action="/buscar-ejercicio" method="GET">

            <label>EJERCICIOS:</label><br><br>

            <p th:if="${error != null}" th:text=${error} class=error></p>
            <p th:if="${exito != null}" th:text=${exito} class=exito></p>
            <p th:if="${eliminado != null}" th:text=${exito} class=exito></p>

            <table>

                <thead>
                    <tr>
                        <th>
                            <p>Nombre</p>
                        </th>

                        <th>
                            <p>Categoría</p>
                        </th>
                        <th>
                            <p>Series</p>
                        </th>
                        <th>
                            <p>Repeticiones</p>
                        </th>
                        <th>
                            <p>Pausa</p>
                        </th>
                        <th>
                            <p>Dificultad</p>
                        </th>
                        <th>
                            <p>Kilogramos</p>
                        </th>
                        <th>
                            <p>Notas</p>
                        </th>
                        <th>
                            <p>Atencion</p>
                        </th>
                        <th>
                            <p>Video</p>
                        </th>
                        <th>
                            <p>Acciones</p>
                        </th>

                    </tr>
                </thead>

                <tr th:each=" listaEjercicios : ${listaEjercicios}">
                    <td th:text="${listaEjercicios.ejercicioNombre.nombre}"></td>
                    <td th:text="${listaEjercicios.ejercicioNombre.categoria.nombre}"></td>
                    <td th:text="${listaEjercicios.series}"></td>
                    <td th:text="${listaEjercicios.repeticiones}"></td>
                    <td th:text="${listaEjercicios.pausa}"></td>
                    <td th:text="${listaEjercicios.dificultad}"></td>
                    <td th:text="${listaEjercicios.kilogramos}"></td>
                    <td th:text="${listaEjercicios.notas}"></td>
                    <td th:text="${listaEjercicios.atencion}"></td>
                    <td><button class="boton2 uno "><a th:href="${listaEjercicios.ejercicioNombre.video}" target="_blank"><span>Video</span></button></a></td>
                    <td>
                        <a th:href="@{/modificar-ejercicio}+'?id='+${listaEjercicios.id}"><button class="boton2 uno"><span>Editar</span></button></a>    
                        <a th:href="@{/eliminar-ejercicio}+'?id='+${listaEjercicios.id}"><button class="boton2 uno"><span>Eliminar</span></button></a>                    
                    </td>
                </tr>

            </table>

        </section>

    </section>

</body>

</html>